# Вступление

RedText - это язык программирования общего назначения со статической и полу-динамической типизацией, направленный как на системную разработку, так разработку ПО и GameDev. 

Этот документ является справочным руководством по языку программирования RedText

# Этапы компиляции

Процесс компиляции разделён на несколько этапов. Каждый этап не зависит от последующих и принимает результат работы предыдущих. Например на лексический анализатор не влияет синтаксический или семантический анализатор и т.д. Данное правило создано для независимости модулей проекта RedText. Каждый модуль, отвечающий за определённый этап компиляции имеет определённое API, которое описано в соответствующих документах. Процесс компиляции состоит из следующих этапов:

1. **Кодировка исходников** - при загрузки исходных кодов проверяется его кодировка и при необходимости преобразуется в UTF-8

2. **Лексический анализ** - исходный код разделяется на последовательность токенов. Специальные токены заменяются на соответствующие значения.

3. **Синтаксический анализ** - последовательность токенов анализируется для формирования синтаксических деревьев.

4. **Семантический анализ** - синтаксическое дерево просматривается для объявления переменных, загрузки таблиц символов, присвоения типов и определения значения программы

5. **Оптимизация** - необязательный этап компиляции, в котором применяются алгоритмы поиска определённых последовательностей для их оптимизации.

6. **Генерация машинного кода** - генерация ассемблерного кода на базе семантического дерева для его дальнейшей компиляции в машинный код.

# Модель памяти

Минимальной единицей измерения в языке RedText является *байт*. *Ячейка памяти* - это последовательность из одного или нескольких байт статического или динамического размера, необходимое для хранения скалярного значения или метаинформации RTTI.

Ячейки памяти делятся на несколько групп:

1. Ячейка локальной памяти - ячейка памяти, используемая для хранения локальных переменных. (статического размера)

2. Константная ячейка памяти - ячейка памяти, используемая для хранения константных переменных. Данная ячейка памяти имеет флаг "только чтение".(статического размера)

3. Ячейка общей памяти - ячейка памяти, используемая для хранения глобальных переменных. (статического размера)

4. Ячейка метаданных - ячейка памяти, используемая для хранения RTTI информации о классах, методах и функциях. Также в данной ячейке хранятся указатели на функции. (динамического размера)
